# ğŸ“Š Reports System - Visual Guide

## Complete User Journey Map

```
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   START: User Action    â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚                             â”‚
                    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
                    â”‚ SEARCH  â”‚             â”‚ ACCESS  â”‚
                    â”‚MOLECULE â”‚             â”‚ REPORTS â”‚
                    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                        â”‚                      â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
         â”‚  HOMEPAGE (ANALYSIS VIEW)   â”‚      â”‚
         â”‚                             â”‚      â”‚
         â”‚  [Analyze Results]          â”‚      â”‚
         â”‚  â”œâ”€ Market Data            â”‚      â”‚
         â”‚  â”œâ”€ Clinical Data          â”‚      â”‚
         â”‚  â”œâ”€ Patent Data            â”‚      â”‚
         â”‚  â”œâ”€ Web Intelligence       â”‚      â”‚
         â”‚  â””â”€ AI Insights            â”‚      â”‚
         â”‚                             â”‚      â”‚
         â”‚  [Download] [Save Report]  â”‚      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                    â”‚                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
         â”‚                    â”‚              â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”        â”‚
    â”‚DOWNLOAD â”‚          â”‚ SAVE    â”‚        â”‚
    â”‚(Local)  â”‚          â”‚(Account)â”‚        â”‚
    â”‚         â”‚          â”‚         â”‚        â”‚
    â”‚JSON     â”‚          â”‚   JWT   â”‚        â”‚
    â”‚FILE     â”‚          â”‚  TOKEN  â”‚        â”‚
    â”‚  â–¼      â”‚          â”‚   â–¼     â”‚        â”‚
    â”‚ Your    â”‚          â”‚ Backend â”‚        â”‚
    â”‚PC/Mac   â”‚          â”‚ API     â”‚        â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â”‚
         â”‚                    â”‚             â”‚
         â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
         â”‚            â”‚  MongoDB       â”‚   â”‚
         â”‚            â”‚ (reports coll)â”‚   â”‚
         â”‚            â”‚ {            â”‚   â”‚
         â”‚            â”‚  user_id: XX  â”‚   â”‚
         â”‚            â”‚  molecule: Y  â”‚   â”‚
         â”‚            â”‚  data: {...}  â”‚   â”‚
         â”‚            â”‚ }            â”‚   â”‚
         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
         â”‚                    â”‚            â”‚
         â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
         â”‚            â”‚ REPORTS PAGE   â”‚â—„â”€â”€â”˜
         â”‚            â”‚                â”‚
         â”‚            â”‚ Your Reports   â”‚
         â”‚            â”‚ â”œâ”€ Aspirin     â”‚
         â”‚            â”‚ â”œâ”€ Metformin   â”‚
         â”‚            â”‚ â””â”€ ...         â”‚
         â”‚            â”‚                â”‚
         â”‚            â”‚ [View][DL][Delete]
         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚
                              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                              â”‚  DOWNLOAD  â”‚
                              â”‚   JSON     â”‚
                              â”‚   FILES    â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

---

## Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LOGIN PROCESS                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. User enters email/password                             â”‚
â”‚  2. Frontend sends to /api/auth/login                      â”‚
â”‚  3. Backend checks MongoDB                                 â”‚
â”‚  4. Bcrypt verifies password                               â”‚
â”‚  5. JWT token generated (24-hour expiration)               â”‚
â”‚  6. Token sent to frontend                                 â”‚
â”‚  7. Frontend stores in localStorage                        â”‚
â”‚     â”œâ”€ Used in every API request header                    â”‚
â”‚     â”œâ”€ Authorization: Bearer {token}                       â”‚
â”‚     â””â”€ Expires after 24 hours (login again)                â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

---

## Save Report Flow (Detailed)

```
USER CLICKS "SAVE REPORT"
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Check: Is user logged in?  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                â”‚
         â”‚ YES            â”‚ NO
         â”‚                â”‚
         â–¼                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ENABLE  â”‚      â”‚ DISABLE BUTTON   â”‚
    â”‚ BUTTON  â”‚      â”‚ Show tooltip     â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    [Click "Save Report"]
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ State: saving = true            â”‚
    â”‚ Show: [â³ Saving...]            â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ POST /api/reports/save               â”‚
    â”‚ Headers:                             â”‚
    â”‚  - Authorization: Bearer {token}     â”‚
    â”‚ Body:                                â”‚
    â”‚  {                                   â”‚
    â”‚    molecule_name: "aspirin",        â”‚
    â”‚    data: {complete analysis}        â”‚
    â”‚  }                                   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ BACKEND: routes_reports.py           â”‚
    â”‚                                      â”‚
    â”‚ 1. Extract user_id from JWT         â”‚
    â”‚ 2. Validate data                    â”‚
    â”‚ 3. Add timestamp                    â”‚
    â”‚ 4. Insert into MongoDB              â”‚
    â”‚ 5. Return success                   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ MongoDB: reports collection          â”‚
    â”‚                                      â”‚
    â”‚ {                                    â”‚
    â”‚   _id: ObjectId(...),                â”‚
    â”‚   user_id: "user123",                â”‚
    â”‚   molecule_name: "aspirin",         â”‚
    â”‚   data: {...},                       â”‚
    â”‚   created_at: timestamp              â”‚
    â”‚ }                                    â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Return: {id, message, user_id}       â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ FRONTEND: handleSaveReport()          â”‚
    â”‚                                      â”‚
    â”‚ 1. Receive success response          â”‚
    â”‚ 2. setSaveSuccess = true             â”‚
    â”‚ 3. Show "âœ“ Saved!"                   â”‚
    â”‚ 4. Auto-hide after 3 seconds         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

---

## Database Schema - Visual

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            MongoDB: pharma_agent_ai             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  ğŸ“‚ Collections                                 â”‚
â”‚  â”œâ”€â”€ users                                      â”‚
â”‚  â”‚   â”œâ”€â”€ _id: ObjectId                         â”‚
â”‚  â”‚   â”œâ”€â”€ email: string (unique)                â”‚
â”‚  â”‚   â”œâ”€â”€ username: string                      â”‚
â”‚  â”‚   â”œâ”€â”€ hashed_password: bcrypt               â”‚
â”‚  â”‚   â”œâ”€â”€ created_at: timestamp                 â”‚
â”‚  â”‚   â””â”€â”€ updated_at: timestamp                 â”‚
â”‚  â”‚                                             â”‚
â”‚  â”œâ”€â”€ reports â˜… NEW DATA STORED HERE â˜…          â”‚
â”‚  â”‚   â”œâ”€â”€ _id: ObjectId                         â”‚
â”‚  â”‚   â”œâ”€â”€ user_id: string (FK to users)         â”‚
â”‚  â”‚   â”œâ”€â”€ molecule_name: string                 â”‚
â”‚  â”‚   â”œâ”€â”€ data: { (nested object)               â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ molecule: string                  â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ market_data: {...}                â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ clinical_data: {...}              â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ patent_data: {...}                â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ web_data: {...}                   â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ ai_insights: string               â”‚
â”‚  â”‚   â”‚   â””â”€â”€ recommendations: string           â”‚
â”‚  â”‚   }                                         â”‚
â”‚  â”‚   â”œâ”€â”€ created_at: timestamp                 â”‚
â”‚  â”‚   â””â”€â”€ updated_at: timestamp                 â”‚
â”‚  â”‚                                             â”‚
â”‚  â””â”€â”€ Indexes                                   â”‚
â”‚      â”œâ”€â”€ users: email (unique)                â”‚
â”‚      â””â”€â”€ reports: (user_id, created_at)       â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

---

## Component Interaction Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         REACT FRONTEND COMPONENTS               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  AuthContext â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”œâ”€ isAuthenticated  â”‚              â”‚          â”‚
â”‚  â”œâ”€ token            â”‚              â”‚          â”‚
â”‚  â”œâ”€ user             â”‚              â”‚          â”‚
â”‚  â””â”€ login/logout     â”‚              â”‚          â”‚
â”‚         â”‚            â”‚              â”‚          â”‚
â”‚         â–¼            â–¼              â–¼          â”‚
â”‚    HomePage      ReportsPage    LoginPage      â”‚
â”‚    [NEW:         [View]         [Signup]       â”‚
â”‚     Save Btn]    [Download]     [Login]        â”‚
â”‚                  [Delete]                      â”‚
â”‚         â”‚            â”‚              â”‚          â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                  â–¼                             â”‚
â”‚              apiService                       â”‚
â”‚              axios client                      â”‚
â”‚              (auto-adds JWT)                   â”‚
â”‚                  â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     FASTAPI BACKEND (8000)        â”‚
    â”‚  routes_auth.py                  â”‚
    â”‚  routes_reports.py               â”‚
    â”‚  main.py                         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     MongoDB (27017)              â”‚
    â”‚  users collection                â”‚
    â”‚  reports collection              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

---

## State Machine - Save Report Button

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   APP STARTS     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  isAuthenticated â”‚
                    â”‚  = false         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Button DISABLED â”‚
                    â”‚  (grayed out)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ User clicks Login           â”‚
              â”‚ (in navbar)                 â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  isAuthenticated â”‚
                    â”‚  = true          â”‚
                    â”‚  token stored    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Button ENABLED  â”‚
                    â”‚  (colored)       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ User clicks Save Report     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  saving = true   â”‚
                    â”‚  Button disabled â”‚
                    â”‚  [â³ Saving...]  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  API Response OK â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ saveSuccess=true â”‚
                    â”‚ [âœ“ Saved!]       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                  (auto-clear after 3s)
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ saveSuccess=falseâ”‚
                    â”‚ Button re-enabledâ”‚
                    â”‚ [ğŸ’¾ Save Report] â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

---

## Data Persistence Timeline

```
Timeline of an Analysis Report
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TIME    ACTION                  STORAGE
â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€                  â”€â”€â”€â”€â”€â”€â”€
10:30   User searches           None yet
10:31   Analysis displayed      Browser memory only
10:32   User clicks Download    Local JSON file âœ“
10:33   User clicks Save        â†“
        Backend processes
        MongoDB stores âœ“
        
Later...
â”€â”€â”€â”€â”€â”€â”€
Next day User opens Reports Page â†’ Query MongoDB â†’ Show reports âœ“


Data Locations After Save:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BEFORE: Report existed only in Browser RAM                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚ Browser Memory                                          â”‚
â”‚  â”‚ (Lost on refresh/close)                                 â”‚
â”‚  â”‚                                                         â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â”‚ Analysis data (displayed on HomePage)           â”‚   â”‚
â”‚  â”‚ â”‚ (Shown in 5 tabs)                               â”‚   â”‚
â”‚  â”‚ â”‚ (Can download as JSON)                          â”‚   â”‚
â”‚  â”‚ â”‚ (Disappears when navigate away)                 â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

              [Click "Save Report"]
                      â”‚
                      â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AFTER: Report persisted in 2 places                       â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Browser Memory           â”‚  â”‚ MongoDB                  â”‚â”‚
â”‚  â”‚                          â”‚  â”‚                          â”‚â”‚
â”‚  â”‚ (Still visible on page)  â”‚  â”‚ {                        â”‚â”‚
â”‚  â”‚                          â”‚  â”‚   _id: ...,              â”‚â”‚
â”‚  â”‚ (Will disappear on      â”‚  â”‚   user_id: "user123",    â”‚â”‚
â”‚  â”‚  refresh)                â”‚  â”‚   molecule_name: "...",  â”‚â”‚
â”‚  â”‚                          â”‚  â”‚   data: {...},           â”‚â”‚
â”‚  â”‚                          â”‚  â”‚   created_at: "..."      â”‚â”‚
â”‚  â”‚                          â”‚  â”‚ }                        â”‚â”‚
â”‚  â”‚                          â”‚  â”‚                          â”‚â”‚
â”‚  â”‚                          â”‚  â”‚ (PERSISTENT!)            â”‚â”‚
â”‚  â”‚                          â”‚  â”‚ (Query anytime!)         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

---

## Error Handling Flowchart

```
User clicks "Save Report"
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Send to API â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                  â”‚
    â”‚ Network?     Database?   Token?  â”‚
    â”‚ â”‚            â”‚           â”‚      â”‚
    â–¼ â–¼            â–¼           â–¼      â”‚
 Error? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚                             â”‚    â”‚
    â–¼                             â–¼    â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Show error msg â”‚        â”‚ SUCCESS! â”‚
 â”‚ e.g.:          â”‚        â”‚          â”‚
 â”‚ â€¢ Network down â”‚        â”‚ [âœ“ Saved]â”‚
 â”‚ â€¢ DB error     â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â”‚ â€¢ Invalid data â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

---

## Key Statistics

| Metric | Value |
|--------|-------|
| **JWT Token TTL** | 24 hours |
| **Password Hashing** | bcrypt (secure) |
| **Save Button Response Time** | <500ms (typical) |
| **Molecules Searchable** | 100+ (mock) or API |
| **Data per Report** | ~5-10 KB JSON |
| **Max Reports per User** | Unlimited |
| **Database** | MongoDB (local/remote) |

---

**Visual guide complete! See other documentation for details.**
